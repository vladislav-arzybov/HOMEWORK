
# Домашнее задание к занятию «Микросервисы: масштабирование» - `Арзыбов Владислав`

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.

## Задача 1: Кластеризация

Предложите решение для обеспечения развёртывания, запуска и управления приложениями.
Решение может состоять из одного или нескольких программных продуктов и должно описывать способы и принципы их взаимодействия.

Решение должно соответствовать следующим требованиям:
- поддержка контейнеров;
- обеспечивать обнаружение сервисов и маршрутизацию запросов;
- обеспечивать возможность горизонтального масштабирования;
- обеспечивать возможность автоматического масштабирования;
- обеспечивать явное разделение ресурсов, доступных извне и внутри системы;
- обеспечивать возможность конфигурировать приложения с помощью переменных среды, в том числе с возможностью безопасного хранения чувствительных данных таких как пароли, ключи доступа, ключи шифрования и т. п.

Обоснуйте свой выбор.

Оптимальным решением из популярных продуктов будет платформа для оркестрации контейнеров Kubernetes.

- Kubernetes управляет контейнерами через поды — логические единицы развёртывания, которые могут содержать один или несколько контейнеров. Контейнеры внутри пода разделяют те же сетевые ресурсы (IP-адрес и порты) и могут взаимодействовать друг с другом через локальный хост.
- Для маршрутизации запросов в Kubernetes используется объект Ingress. Он позволяет определять правила маршрутизации, которые направляют трафик к соответствующим сервисам. Например, можно настроить маршрутизацию на основе путей, доменов или значений заголовка.
- Механизм Horizontal Pod Autoscaler (HPA) автоматически регулирует количество реплик подов в зависимости от текущей нагрузки. Он основывается на заданных метриках, таких как загрузка процессора, использование оперативной памяти или пользовательские метрики. В свою очередь компонент Cluster Autoscaler отслеживает нагрузку на узлы и при необходимости уменьшает или увеличивает их количество.
- Kubernetes позволяет разделять ресурсы кластера на пространства имён (namespaces). Это позволяет создавать отдельные виртуальные кластеры для разных команд, проектов или сред (разработка, тестирование, продакшен).
Кроме того, кластер Kubernetes может быть настроен для предоставления доступа к входящим в его состав подам извне как к единому фронтенду. Для этого в кластере используется механизм маскарадинга IP-адресов. Если поду требуется доступ к ресурсам за пределами кластера, его IP-адрес заменяется на IP-адрес узла, на котором работает под.
- Для безопасного хранения чувствительных данных в Kubernetes используется объект Secret. Он позволяет отделить конфиденциальную информацию от кода приложения и конфигурационных файлов. 
Secrets хранятся в зашифрованном виде, и доступ к ним возможен только авторизованным процессам. Можно настроить шифрование данных при хранении (encryption at rest) для всех Secrets.

## Задача 2: Распределённый кеш * (необязательная)

Разработчикам вашей компании понадобился распределённый кеш для организации хранения временной информации по сессиям пользователей.
Вам необходимо построить Redis Cluster, состоящий из трёх шард с тремя репликами.

### Схема:

![11-04-01](https://user-images.githubusercontent.com/1122523/114282923-9b16f900-9a4f-11eb-80aa-61ed09725760.png)

---

### Как оформить ДЗ?

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

---
