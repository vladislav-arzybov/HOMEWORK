# Домашнее задание к занятию 17 «Инцидент-менеджмент» - `Арзыбов Владислав`

## Задание

Составьте постмортем на основе реального сбоя системы GitHub в 2018 году.

Информацию о сбое можно изучить по ссылкам ниже:

* [краткое описание на русском языке](https://habr.com/ru/post/427301/);
* [развёрнутое описание на английском языке](https://github.blog/2018-10-30-oct21-post-incident-analysis/).



|Название   | Описание |
|----------------------|---|
|Краткое описание инцидента|  Пострадало несколько сетевых разделов c последующим сбоем базы данных, что привело к несогласованной информации, представленной на веб-сайте GitHub. |
|Предшествующие события| Плановые работы по замене вышедшего из строя оптического оборудования 100G. |
|Причина инцидента| Потеря связи между сетевым узлом на Восточном побережье США и основным центром обработки данных на Восточном побережье США.  |
|Воздействие| GitHub не мог обслуживать события веб-перехватчиков или создавать и публиковать GitHub Pages. |
|Обнаружение| Внутренние системы мониторинга начали генерировать оповещения о сбоях в системе. Инженеры первой группы реагирования определили, что топологии кластеров баз данных находятся в неожиданном состоянии. |
|Реакция|   |
|Восстановление| Восстановлены из резервных копий данные MySQL, синхронизированы реплики на обоих сайтах, произведён возврат к стабильной топологии обслуживания, возобновлена обработка заданий в очереди.  |
|Таймлайн| 21 октября 22:52 UTC Аварийное переключение кластеров для направления операций записи в ЦОД на западном побережье США. |
|  |  21 октября 22:54 UTC Системы мониторинга начали генерировать предупреждения, указывающие на многочисленные сбои в системах. |
| |21 октября 23:07 UTC Команда решила вручную заблокировать внутренний инструмент развертывания, чтобы предотвратить внесение каких-либо дополнительных изменений. |
| |21 октября 23:13 UTC Были вызваны дополнительные инженеры из группы разработки баз данных GitHub. |
| |21 октября 23:19 UTC Приостановка доставки веб-перехватчика и сборки страниц GitHub. |
| |22 октября 00:05 UTC Разработка плана по устранению несоответствий данных и внедрения процедур аварийного переключения для MySQL. |
| |22 октября 00:41 UTC Инициирован процесс резервного копирования для всех затронутых кластеров MySQL. |
| |22 октября 06:51 UTC Несколько кластеров завершили восстановление из резервных копий в центре обработки данных на восточном побережье США и начали репликацию новых данных с западного побережья. |
| |22 октября 07:46 UTC GitHub опубликовал сообщение в блоге, чтобы предоставить больше информации. |
| |22 октября 11:12 UTC Все основные базы данных снова установлены на восточном побережье США. |
| |22 октября 13:15 UTC Стали приближаться к пиковой нагрузке трафика на GitHub.com. Сокращение совокупного использования реплик чтения позволило репликации наверстать упущенное.|
| |22 октября 16:24 UTC Выполнили аварийное переключение на исходную топологию, устранив непосредственные проблемы с задержкой/доступностью |
| |22 октября 16:45 UTC Балансировка возросшей нагрузки. |
| |22 октября 23:03 UTC Все ожидающие вебхуки и сборки страниц были обработаны, а целостность и правильная работа всех систем были подтверждены.  |
|Последующие действия|  1. Настройка конфигурацию Orchestrator, чтобы предотвратить движение основных баз данных через региональные границы |
| |2. Ускорить переход на новый механизм отчетов о состоянии, который предоставит более богатую площадку для обсуждения активных инцидентов, более четким и понятным языком|
| |3. Поддержка обслуживания трафика GitHub из нескольких центров обработки данных по схеме «активный/активный/активный»|
| |4. Занять более активную позицию в проверке предположений |
