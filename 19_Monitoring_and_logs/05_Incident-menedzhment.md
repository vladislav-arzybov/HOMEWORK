# Домашнее задание к занятию 17 «Инцидент-менеджмент» - `Арзыбов Владислав`

## Задание

Составьте постмортем на основе реального сбоя системы GitHub в 2018 году.

Информацию о сбое можно изучить по ссылкам ниже:

* [краткое описание на русском языке](https://habr.com/ru/post/427301/);
* [развёрнутое описание на английском языке](https://github.blog/2018-10-30-oct21-post-incident-analysis/).



|Название   | Описание |
|----------------------|---|
|Краткое описание инцидента|  После непродолжительной потери связи между сетевым узлом и датацентром нарушилась топология кластеров Оркестратора, что привело к деградированию системы. |
|Предшествующие события| Плановые работы по замене вышедшего из строя 100G оптического оборудования в дата-центре на восточном побережье США. |
|Причина инцидента| В результате временной потери связи кластеры MySQL на западном побережье США перешли в "неожиданное" для Оркестратора состояние.  |
|Воздействие| Отображение устаревшей и непоследовательной информации. GitHub не мог обслуживать события веб-перехватчиков или создавать и публиковать GitHub Pages. |
|Обнаружение| Инцидент был замечен дежурными инженерами через оповещения системы мониторинга. |
|Реакция|  Группа реагирования провела минимизацию накопления сложности инцидента, отключила часть сервисов для минимизации изменений БД. Также к работе подключились дополнительные разработчики и координатор из инженерной группы БД. Учитывая приоритет целостности данных общее время восстановления составило 24 часа 11 минут. |
|Восстановление| Восстановлены из резервных копий данные MySQL, синхронизированы реплики на обоих сайтах, произведён возврат к стабильной топологии обслуживания, возобновлена обработка заданий в очереди.  |
|Таймлайн| 21 октября 22:52 UTC Аварийное переключение кластеров для направления операций записи в ЦОД на западном побережье США. |
|  |  21 октября 22:54 UTC Системы мониторинга начали генерировать предупреждения, указывающие на многочисленные сбои в системах. |
| |21 октября 23:07 UTC Команда решила вручную заблокировать внутренний инструмент развертывания, чтобы предотвратить внесение каких-либо дополнительных изменений. |
| |21 октября 23:13 UTC Были вызваны дополнительные инженеры из группы разработки баз данных GitHub. |
| |21 октября 23:19 UTC Приостановка доставки веб-перехватчика и сборки страниц GitHub. |
| |22 октября 00:05 UTC Разработка плана по устранению несоответствий данных и внедрения процедур аварийного переключения для MySQL. |
| |22 октября 00:41 UTC Инициирован процесс резервного копирования для всех затронутых кластеров MySQL. |
| |22 октября 06:51 UTC Несколько кластеров завершили восстановление из резервных копий в центре обработки данных на восточном побережье США и начали репликацию новых данных с западного побережья. |
| |22 октября 07:46 UTC GitHub опубликовал сообщение в блоге, чтобы предоставить больше информации. |
| |22 октября 11:12 UTC Все основные базы данных снова установлены на восточном побережье США. |
| |22 октября 13:15 UTC Стали приближаться к пиковой нагрузке трафика на GitHub.com. Сокращение совокупного использования реплик чтения позволило репликации наверстать упущенное.|
| |22 октября 16:24 UTC Выполнили аварийное переключение на исходную топологию, устранив непосредственные проблемы с задержкой/доступностью |
| |22 октября 16:45 UTC Балансировка возросшей нагрузки. |
| |22 октября 23:03 UTC Все ожидающие вебхуки и сборки страниц были обработаны, а целостность и правильная работа всех систем были подтверждены.  |
|Последующие действия|  1. Измените конфигурацию Orchestrator, чтобы предотвратить продвижение основных баз данных за пределы региональных границ. |
| |2. Ускорить переход на новый механизм отчетов о состоянии, который предоставит более богатую площадку для обсуждения активных инцидентов, более четким и понятным языком.|
| |3. Поддержка обслуживания трафика GitHub из нескольких центров обработки данных. |
| |4. Занять более активную позицию в проверке предположений. |
